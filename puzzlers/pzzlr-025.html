---
layout: kata
---
<h1>$!.*% Iterators!</h1>
<table class="table meta-table table-condensed">
  <tbody>
    <tr>
      <td class="header-column"><strong>Contributed by</strong></td>
      <td>Daniel C. Sobral</td>
    </tr>
    <tr>
      <td><strong>Source</strong></td>
      <!--
        If no source (your puzzler is not mentioned anywhere on the web), just say N/A
      --> 
      <td><a target="_blank" href="https://groups.google.com/forum/#!topic/scala-user/7B6fPJ03Vww/discussion">scala-user mailing list</a></td>
    </tr>
    <tr>
      <td><strong>Tested with Scala version</strong></td>
      <td>2.10.0</td>
    </tr>
  </tbody>
</table>
<div class="code-snippet">
  <h3>What is the result of executing the following code?</h3>
<pre class="prettyprint lang-scala">
val t = "this is a test"
val rx = " ".r
val m = rx.findAllIn(t)
println(m)
println(m.end)
println(rx.findAllIn(t).end)
</pre>
  <ol>
    <!--
      The correct answer should have id for corresponding li element equal to "correct-answer".
      When placing code snippets wrap them with pre tag:
      <pre class="prettyprint lang-scala">
        ...
      </pre>
     -->
     <li>
<pre class="prettyprint lang-scala">
non-empty iterator
5
5
</pre></li>
     <li>
<pre class="prettyprint lang-scala">
empty iterator
java.lang.IllegalStateException: No match available
java.lang.IllegalStateException: No match available
</pre></li>
     <li id="correct-answer">
<pre class="prettyprint lang-scala">
non-empty iterator
5
java.lang.IllegalStateException: No match available
</pre></li>
     <li>
<pre class="prettyprint lang-scala">
non-empty iterator
java.lang.IllegalStateException: No match available
java.lang.IllegalStateException: No match available
</pre></li>
  </ol>
</div>
<button id="show-and-tell" class="btn btn-primary" href="#">Display the correct answer, explanation and comments</button>
<div id="explanation" class="explanation" style="display:none">
  <h3>Explanation</h3>
  <p>
  The result of <tt>findAll</tt> is an <tt>Iterator</tt>. Until you somehow ask for or check the first element, such as calling <tt>next</tt>, <tt>hasNext</tt> or causing them to be called through <tt>toString</tt>, no regex match will be tried, causing the <tt>end</tt> method - from <tt>MatchData</tt>, also extended by <tt>MatchIterator</tt> - to throw an exception.
  </p>
</div>

